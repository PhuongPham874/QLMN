{% extends "home.html" %}
{% load static %}
{% block page_background %}
<div class="contract-page">
  <!-- Page Header -->
  <div class="header-container" style="display: flex; align-items: center; width: 100%; margin-top: 20px; margin-bottom: 20px; gap: 140px;">
        <a href="{% url 'DanhSachNhanVien' %}" class="btn-back" style="background-color: #555555; color: white; padding: 10px 15px; border-radius: 4px; text-decoration: none; display: flex; align-items: center; min-width: 110px; justify-content: center;">
            <i class="fas fa-arrow-left" style="margin-right: 8px;"></i> Quay lại
        </a>
        <h1 class="main-title" style="font-size: 25px; font-weight: bold; margin: 0;">THÔNG TIN CHI TIẾT HỢP ĐỒNG LAO ĐỘNG</h1>
    </div>

  <!-- Tab Navigation -->
  <div class="tab-navigation">
    <a href="{% url 'QLXemHoSo' nhan_vien.id %}" class="tab-link inactive">
      <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
        <circle cx="12" cy="7" r="4"></circle>
      </svg>
      Thông Tin Cá Nhân
    </a>
    <a href="{% url 'QLXemHoSoHDLD' nhan_vien.id %}" class="tab-link active">
      <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
        <polyline points="14 2 14 8 20 8"></polyline>
        <line x1="16" y1="13" x2="8" y2="13"></line>
        <line x1="16" y1="17" x2="8" y2="17"></line>
        <polyline points="10 9 9 9 8 9"></polyline>
      </svg>
      Hợp Đồng Lao Động
    </a>
  </div>

  <!-- Contract Card -->
  <div class="contract-card">
    <!-- Employee Info Section -->
    <div class="employee-info-section">
      <h3 class="section-title">
        <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
        Thông Tin Nhân Viên
      </h3>

      <div class="info-grid">
        <div class="info-field">
          <div class="field-label">Họ và tên</div>
          <div class="field-value">{{ nhan_vien.ten_nv }}</div>
        </div>

        <div class="info-field">
          <div class="field-label">Mã nhân viên</div>
          <div class="field-value">{{ nhan_vien.id }}</div>
        </div>

        <div class="info-field">
          <div class="field-label">Vị trí làm việc</div>
          <div class="field-value">{{ nhan_vien.vi_tri_cong_viec }}</div>
        </div>

        <div class="info-field">
          <div class="field-label">Tổ (Phòng ban)</div>
          <div class="field-value">{{ nhan_vien.to_phong_ban }}</div>
        </div>
      </div>
    </div>

    <!-- Contract Details Section -->
    <div class="contract-details-section">
      <h3 class="section-title">
        <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        Chi Tiết Hợp Đồng
      </h3>

      <div class="info-grid">
        <div class="info-field">
          <div class="field-label">Số hợp đồng</div>
          <div class="field-value">{{ hop_dong.so_hop_dong }}</div>
        </div>

        <div class="info-field">
          <div class="field-label">Loại hợp đồng</div>
          <div class="field-value">{{ hop_dong.loai_hop_dong }}</div>
        </div>

        <div class="info-field">
          <div class="field-label">Thời hạn hợp đồng</div>
          <div class="field-value">{{ hop_dong.thoi_han_hop_dong }}</div>
        </div>

        <div class="info-field">
          <div class="field-label">Lương</div>
          <div class="field-value salary">{{ hop_dong.luong }}</div>
        </div>

        <div class="info-field">
          <div class="field-label">Từ ngày</div>
          <div class="field-value">{{ hop_dong.tu_ngay }}</div>
        </div>

        <div class="info-field">
          <div class="field-label">Đến ngày</div>
          <div class="field-value">{{ hop_dong.den_ngay }}</div>
        </div>

        <div class="info-field">
          <div class="field-label">Ngày ký</div>
          <div class="field-value">{{ hop_dong.ngay_ky }}</div>
        </div>

        <div class="info-field">
          <div class="field-label">Trạng thái hợp đồng</div>
          <div class="field-value status">{{ hop_dong.trang_thai_hop_dong }}</div>
        </div>
      </div>
    </div>

    <!-- Allowances Section -->
    <div class="allowances-section">
      <h3 class="section-title">
        <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="12" y1="1" x2="12" y2="23"></line>
          <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
        </svg>
        Danh Sách Phụ Cấp
      </h3>

      <div class="table-container">
        <table class="allowances-table">
          <thead>
            <tr>
              <th>STT</th>
              <th>Tên phụ cấp</th>
              <th>Giá trị</th>
            </tr>
          </thead>
          <tbody>
            {% for phu_cap_nv in phu_cap_nhan_vien_list %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ phu_cap_nv.phu_cap.ten_phu_cap }}</td>
              <td class="amount">{{ phu_cap_nv.phu_cap.gia_tri|floatformat:2 }}</td>
            </tr>
            {% empty %}
            <tr class="empty-row">
              <td colspan="3">
                <div class="empty-state">
                  <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                  </svg>
                  <p>Không có phụ cấp</p>
                </div>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
        <div class="profile-action" style="text-align: right; margin-top: 20px;">
          {% if nhan_vien.vi_tri_cong_viec == 'Nhân sự' %}
          <a href="{% url 'edit_hdld' nhan_vien.id %}" class="edit-button" title="Chỉnh sửa" >
              <i class="fa-solid fa-pen-to-square" style="font-size: 18px; color: #0066CC;"></i>
          </a>
          {% endif %}
      </div>
    </div>
  </div>
</div>
<link rel="stylesheet" href="{% static 'css/HDLDnhanvien.css' %}">
{% endblock %}